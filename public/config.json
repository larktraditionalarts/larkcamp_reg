{
    "uiSchema": {

    },
    "dataSchema": {
        "definitions": {
            "camping_preference": {
                "type": "string",
                "enum": ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L"]
            },
            "natural": {
                "type": "integer",
                "minimum": 0
            },
            "sizes": {
                "type": "object",
                "title": "Sizes",
                "properties": {
                    "small": { "$ref": "#/definitions/natural" },
                    "medium": { "$ref": "#/definitions/natural" },
                    "large": { "$ref": "#/definitions/natural" },
                    "xl": { "$ref": "#/definitions/natural" },
                    "xxl": { "$ref": "#/definitions/natural" }
                }
            },
            "address": {
                "type": "object",
                "title": "Address",
                "properties": {
                    "street_address": { "type": "string" },
                    "city":         { "type": "string" },
                    "state":        { "type": "string" },
                    "zip_code":     { "type": "string" },
                    "country":      { "type": "string" }
                },
                "required": ["street_address", "country", "city"]
            },
            "accomodations": {
                "type": "object",
                "title": "Accomodations",
                "properties": {
                    "camp_preference": {
                        "type": "string",
                        "title": "Camp Preference",
                        "enum": ["Camp 1", "Camp 2", "Camp 3"]
                    },
                    "accomodation_preference": {
                        "type": "string",
                        "title": "Accomodation Preference",
                        "enum": ["Cabin", "Tent", "Vehicle Camping"]
                    }
                },
                "dependencies": {
                    "accomodation_preference": {
                        "oneOf": [
                            {
                                "properties": {
                                    "accomodation_preference": {
                                        "enum": ["Cabin"]
                                    },
                                    "cabinmates": {
                                        "type": "array",
                                        "title": "Who would you like to be in a cabin with? (if in a cabin)",
                                        "items": {
                                            "type": "string",
                                            "title": "Camper Name"
                                        }
                                    }
                                }
                            },
                            {
                                "properties": {
                                    "accomodation_preference": {
                                        "enum": ["Tent"]
                                    },
                                    "tent_or_vehicle_mates": {
                                        "type": "array",
                                        "title": "Who will be in your tent/vehicle with you?",
                                        "items": {
                                            "type": "string",
                                            "title": "Name"
                                        }
                                    },
                                    "tenting_area_preference": {
                                        "type": "object",
                                        "title": "What are your tent area preferences, in order?",
                                        "properties": {
                                            "first_choice": {
                                                "$ref": "#/definitions/camping_preference",
                                                "title": "First choice spot"
                                            },
                                            "second_choice": {
                                                "$ref": "#/definitions/camping_preference",
                                                "title": "Second choice spot"
                                            },
                                            "third_choice": {
                                                "$ref": "#/definitions/camping_preference",
                                                "title": "Third choice spot"
                                            },
                                            "fourth_choice": {
                                                "$ref": "#/definitions/camping_preference",
                                                "title": "Fourth choice spot"
                                            }
                                        }
                                    }
                                }
                            },
                            {
                                "properties": {
                                    "accomodation_preference": {
                                        "enum": ["Vehicle Camping"]
                                    },
                                    "tent_or_vehicle_mates": {
                                        "type": "array",
                                        "title": "Who will be in your tent/vehicle with you? (if in a vehicle or tent)",
                                        "items": {
                                            "type": "string",
                                            "title": "Name"
                                        }
                                    }
                                }
                            }
                        ]
                    }
                }
            },
            "meals": {
                "type": "object",
                "title": "Meals",
                "properties": {
                    "meal_plan": {
                        "type": "string",
                        "title": "What meals will you purchase?",
                        "enum": [
                            "None",
                            "Full Camp, All Meals",
                            "Full Camp, Just Dinners",
                            "Half Camp (first half), All Meals",
                            "Half Camp (second half), All Meals"
                        ]
                    }
                },
                "dependencies": {
                    "meal_plan": {
                        "oneOf": [
                            {
                                "properties": {
                                    "meal_plan": {
                                        "enum": ["None"]
                                    }
                                }
                            },
                            {
                                "properties": {
                                    "meal_plan": {
                                        "enum": [
                                            "Full Camp, All Meals",
                                            "Full Camp, Just Dinners",
                                            "Half Camp (first half), All Meals",
                                            "Half Camp (second half), All Meals"
                                        ]
                                    },
                                    "meal_type": {
                                        "type": "string",
                                        "title": "What types of meals do you want?",
                                        "enum": [
                                            "Non-Vegetarian",
                                            "Vegetarian",
                                            "Vegan"
                                        ]
                                    }
                                }
                            }
                        ]
                    }
                }
            }
        },
        "title": "Lark Camp Registration",
        "type": "object",
        "properties": {
            "payer_first_name": { "type": "string", "title": "Payer First Name" },
            "payer_last_name": { "type": "string", "title": "Payer Last Name" },
            "payer_billing_address": { 
                "$ref": "#/definitions/address"
            },
            "payer_email": {
                "type": "string",
                "title": "Email"
            },
            "payer_number": {
                "type": "string",
                "title": "Payer Phone Number"
            },
            "payment_type": {
                "type": "string",
                "title": "Payment Type",
                "enum": [
                    "Credit Card",
                    "Paypal",
                    "Check"
                ]
            },
            "how_did_you_hear": {
                "type": "string",
                "title": "How did you hear about Lark Camp?"
            },
            "comments": {
                "type": "string",
                "title": "Comments"
            },
            "campers": {
                "title": "campers",
                "type": "array",
                "items": {
                    "type": "object",
                    "required": ["first_name", "last_name"],
                    "properties": {
                        "first_name": {
                            "type": "string",
                            "title": "First name"
                        },
                        "last_name": {
                            "type": "string",
                            "title": "Last name"
                        },
                        "gender": {
                            "type": "string",
                            "title": "Gender",
                            "enum": ["Male", "Female", "Other"]
                        },
                        "age": {
                            "type": "integer",
                            "title": "Age, if under 18"
                        },
                        "address": { 
                            "$ref": "#/definitions/address"
                        },
                        "session": {
                            "type": "string",
                            "title": "Which session will you be attending?",
                            "enum": [
                                "Full camp",
                                "Half camp (1st half)",
                                "Half camp (2nd half)"
                            ]
                        },
                        "accomodations": {
                            "$ref": "#/definitions/accomodations"
                        },
                        "meals": {
                            "$ref": "#/definitions/meals"
                        }
                    }
                }
            },
            "parking_passes": {
                "type": "array",
                "title": "Parking Passes",
                "items": {
                    "type": "object",
                    "title": "Parking Pass",
                    "properties": {
                        "holder": {
                            "type": "string",
                            "title": "Whose name will the parking pass be in?"
                        }
                    }
                }
            },
            "tshirt_sizes": {
                "$ref": "#/definitions/sizes",
                "title": "T-shirt Sizes"
            },
            "sweatshirt_sizes": {
                "$ref": "#/definitions/sizes",
                "title": "Sweatshirt Sizes"
            },
            "lta_donation": {
                "type": "number",
                "title": "Donation to Lark Traditional Arts (Tax Deductible, Dollars)"
            },
            "woodlands_donation": {
                "type": "number",
                "title": "Donation to the Mendicino Woodlands (Tax Deductible, Dollars)"
            }
        }
    }
}
